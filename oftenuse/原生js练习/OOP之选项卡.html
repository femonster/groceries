<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>选项卡再练习</title>
		<style type="text/css">
			*{margin: 0;padding: 0;word-spacing: 1px;}
			.tab{
				width: 300px;
				height: 200px;
				/*border: 1px solid saddlebrown;*/
				margin: 30px auto;
				padding: 30px;
				
			}
			ul{
				height: 30px;
				list-style: none;
				border-bottom:3px solid saddlebrown;
			}
			ul li{
				display: inline-block;
				width: 60px;
				height: 27px;
				text-align: center;
				line-height: 30px;
				border: 1px solid #999999;
				border-bottom: none;
				cursor: pointer;
				z-index: 666;
			}
		   .tab div{
     	    line-height: 40px;
     	    clear: both;
     	    width: 300px;
     	    height: 248px;
     	    border: 1px solid saddlebrown;
     	    border-top:none;
     	    
     }
			.on{
			  border-top:3px saddlebrown solid;
              border-bottom:3px #FFFFFF solid;
			}
			.hide{
				display: none;
			}
			.show{
				display: block;
			}
		</style>
	</head>
	<body>
		<div class="tab" id="tab">
    <ul>
        <li class="on">房产</li>
        <li>家居</li>
        <li>二手房</li>
    </ul>
    <div class="show">
    275万购昌平邻铁三居 总价20万买一居<br>
    200万内购五环三居 140万安家东三环<br>
    北京首现零首付楼盘 53万购东5环50平<br>
    京楼盘直降5000 中信府 公园楼王现房<br>
    </div>
     
    <div class="hide">
     40平出租屋大改造 美少女的混搭小窝<br>
         经典清新简欧爱家 90平老房焕发新生<br>
         新中式的酷色温情 66平撞色活泼家居<br>
         瓷砖就像选好老婆 卫生间烟道的设计<br>
    </div>
    <div class="hide">
        通州豪华3居260万 二环稀缺2居250w甩<br>
         西3环通透2居290万 130万2居限量抢购<br>
         黄城根小学学区仅260万 121平70万抛!<br>
         独家别墅280万 苏州桥2居优惠价248万<br>
    </div>
</div>
	</body>
	<script type="text/javascript">
	/**

    面向过程

	window.onload=function(){
		var oTab=document.getElementById('tab');
		var ali=oTab.getElementsByTagName('ul')[0].getElementsByTagName('li');
		var adiv=oTab.getElementsByTagName('div');
		for (var i = 0; i < ali.length; i++) {
			ali[i].index=i;
			ali[i].onclick=function(){
				for (var i = 0; i < adiv.length; i++) {
					ali[i].className='';
					adiv[i].className='hide';
				}
				 	this.className='on';
				 	adiv[this.index].className='show';
			}
		}
	}
*/

// 改写成面向对象
var ali=null;
var adiv=null;
window.onload=function(){
	var mytab=new TabSwitch('tab');
	}
	function TabSwitch(id) {
		var oTab=document.getElementById(id);
		this.ali=oTab.getElementsByTagName('ul')[0].getElementsByTagName('li');
		this.adiv=oTab.getElementsByTagName('div');
	  	var _this=this;  //这里的this指向TabSwitch的实例，mytab，传给_this,便于后面使用
		for (var i = 0; i < this.ali.length; i++) {
			this.ali[i].index=i;
			this.ali[i].onclick=function(){
				_this.tab(this);  //当点击事件发生时，this变为了被点击元素，可以将this做为参数传给原型上的方法
			}
		}
	}
	TabSwitch.prototype.tab = function(oBtn){//oBtn做为参数接收被点击元素
				for (var i = 0; i < this.adiv.length; i++) {
					this.ali[i].className='';
					this.adiv[i].className='hide';
				}
				 	oBtn.className='on';
				 	this.adiv[oBtn.index].className='show';
			}

	</script>
</html>
<!-- 

改写：
1，前提：所有东西都写在onload里
2，改写：不能有函数嵌套，可以有全局变量
3，onload=======构造函数
    全局变量====属性
    函数========放法
4，改错 this：
this啥时候会出问题
a.有定时器
b.有事件
解决方法：再套一层
var _this=this;
funciton(){
	_this.~~~;
}

 -->
